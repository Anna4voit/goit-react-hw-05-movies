{"version":3,"file":"static/js/135.a6a93392.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","service/api.js"],"sourcesContent":["import { Bars } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <Bars\n        height=\"80\"\n        width=\"80\"\n        color=\"#281cc9\"\n        ariaLabel=\"bars-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__uXZxd\",\"container\":\"MovieDetails_container__Ys+c9\",\"box_movie\":\"MovieDetails_box_movie__yykwT\",\"genres_list\":\"MovieDetails_genres_list__14ciI\",\"box_details\":\"MovieDetails_box_details__3ILCG\",\"link\":\"MovieDetails_link__U+v+7\"};","import React, { useEffect, useState, useRef } from 'react';\nimport {\n  useParams,\n  Outlet,\n  Link,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport { fetchMovieDetails } from 'service/api';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movieDetails, setMovieDetails] = useState(null);\n\n  const navigate = useNavigate();\n  const goBack = () => navigate(backLinkRef.current);\n\n  useEffect(() => {\n    if (!movieId) return;\n    const fetchMovieDetailsId = () => {\n      setLoading(true);\n      fetchMovieDetails(movieId)\n        .then(data => {\n          setMovieDetails(data);\n        })\n        .catch(error => {\n          setError(error.message);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    };\n    fetchMovieDetailsId();\n  }, [movieId]);\n\n  const { title, overview, release_date, popularity, genres, poster_path } =\n    movieDetails || {};\n\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\n  return (\n    <div className={css.container}>\n      {error && <p>{error}</p>}\n      {loading && <Loader />}\n      {/* <Link to={backLinkRef.current}>Go to back</Link> */}\n\n      <button className={css.button} type=\"button\" onClick={goBack}>\n        Go to back\n      </button>\n      {movieDetails && (\n        <div className={css.box_movie}>\n          <img\n            width=\"300px\"\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                : defaultImg\n            }\n            alt=\"poster\"\n          />\n          <div>\n            <h1>\n              {title} ({release_date.slice(0, 4)})\n            </h1>\n            <p>User score: {popularity}</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <ul className={css.genres_list}>\n              {genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n      <div>\n        <h3>Additional information</h3>\n        <ul className={css.box_details}>\n          <li>\n            <Link className={css.link} to=\"cast\">\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link className={css.link} to=\"reviews\">\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '35acd53189075d17d4b9d3ba1aca524c';\n\nexport const fetchTrending = async () => {\n  const response = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n};\n// `movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchReviews = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n\nexport const fetchCast = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchSearchMovie = async keyword => {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${keyword}`\n  );\n  return response.data.results;\n};\n"],"names":["_jsx","children","Bars","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","_location$state$from","_location$state","movieId","useParams","location","useLocation","backLinkRef","useRef","state","from","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","movieDetails","setMovieDetails","navigate","useNavigate","useEffect","fetchMovieDetails","then","data","catch","message","finally","_ref","title","overview","release_date","popularity","genres","poster_path","_jsxs","className","css","Loader","type","onClick","current","src","concat","alt","slice","map","genre","name","id","Link","to","Outlet","axios","API_KEY","fetchTrending","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","sent","abrupt","results","stop","apply","arguments","_ref2","_callee2","_context2","_x","fetchReviews","_ref3","_callee3","_context3","_x2","fetchCast","_ref4","_callee4","_context4","cast","_x3","fetchSearchMovie","_ref5","_callee5","keyword","_context5","_x4"],"sourceRoot":""}